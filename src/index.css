@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 245 247 252;
  --foreground: 21 26 48;
  --card: 255 255 255;
  --border: 215 223 237;
  --muted: 94 106 133;
  --primary: 38 82 255;
  --success: 20 137 95;
  --danger: 198 48 48;
  --sidebar: 17 24 39;
  --sidebar-foreground: 240 245 255;
  --sidebar-muted: 165 178 207;
  --sidebar-active: 41 58 94;

  font-family: 'Manrope', 'DM Sans', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
}

.dark {
  --background: 9 13 24;
  --foreground: 227 233 248;
  --card: 17 24 39;
  --border: 51 64 96;
  --muted: 148 161 190;
  --primary: 104 143 255;
  --success: 83 209 151;
  --danger: 242 121 121;
  --sidebar: 7 10 19;
  --sidebar-foreground: 233 239 255;
  --sidebar-muted: 138 154 193;
  --sidebar-active: 35 50 83;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  min-height: 100%;
}

body {
  @apply m-0 bg-background text-foreground antialiased;
  background-image:
    radial-gradient(circle at 10% 10%, rgb(var(--primary) / 0.09), transparent 42%),
    radial-gradient(circle at 90% 0%, rgb(var(--success) / 0.08), transparent 30%),
    linear-gradient(180deg, rgb(var(--background)) 0%, rgb(var(--background) / 0.96) 100%);
}

a {
  color: inherit;
  text-decoration: none;
}

.app-shell {
  @apply grid min-h-screen grid-cols-[280px_1fr];
}

.sidebar {
  @apply sticky top-0 flex h-screen flex-col border-r border-sidebarActive/60 bg-sidebar/95 px-5 py-6 text-sidebarForeground backdrop-blur;
}

.sidebar h1 {
  @apply mb-1 text-xl font-extrabold tracking-tight;
}

.sidebar nav {
  @apply mt-6 grid gap-1.5;
}

.sidebar a {
  @apply rounded-xl px-3 py-2.5 text-sm font-medium text-sidebarMuted transition-all duration-200;
}

.sidebar a:hover {
  @apply bg-sidebarActive/70 text-sidebarForeground;
}

.sidebar a.active {
  @apply bg-sidebarActive text-sidebarForeground shadow-[0_8px_24px_rgba(0,0,0,0.2)];
}

.main {
  @apply px-5 py-6 lg:px-8;
}

.topbar {
  @apply mb-6 flex items-center justify-between gap-3 rounded-2xl border border-border/80 bg-card/70 px-4 py-3 shadow-[0_10px_24px_rgba(12,16,28,0.06)] backdrop-blur;
}

.topbar span {
  @apply block text-sm text-muted;
}

.topbar-actions {
  @apply flex items-center gap-2;
}

.topbar-segment {
  @apply inline-flex items-center gap-1 rounded-2xl border border-border/80 bg-background/65 p-1 shadow-[0_8px_20px_rgba(9,14,25,0.08)] backdrop-blur;
}

.topbar-control {
  @apply inline-flex items-center gap-2 rounded-xl px-2 py-1 text-xs font-semibold text-foreground;
}

.topbar-control-label {
  @apply text-muted;
}

.topbar-control-select {
  @apply rounded-lg border border-border/80 bg-card/85 px-2 py-1 text-xs font-semibold text-foreground outline-none focus-visible:border-primary/40 focus-visible:ring-2 focus-visible:ring-primary/40;
}

.topbar-logout {
  @apply h-9;
}

.content {
  @apply grid gap-4;
}

.centered-screen {
  @apply grid min-h-screen place-items-center p-4;
}

.panel {
  @apply rounded-2xl border border-border/80 bg-card/80 p-5 shadow-[0_12px_32px_rgba(18,28,45,0.08)] backdrop-blur;
}

.page-surface {
  @apply relative overflow-hidden rounded-3xl;
}

.page-surface::before {
  content: '';
  position: absolute;
  inset: -20% auto auto -15%;
  width: 300px;
  height: 300px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgb(var(--primary) / 0.1) 0%, transparent 70%);
  pointer-events: none;
}

.page-surface::after {
  content: '';
  position: absolute;
  right: -80px;
  bottom: -120px;
  width: 320px;
  height: 320px;
  border-radius: 9999px;
  background: radial-gradient(circle, rgb(var(--success) / 0.09) 0%, transparent 72%);
  pointer-events: none;
}

.kpi-card {
  @apply relative overflow-hidden rounded-2xl border border-border/70 bg-card/90 p-4 shadow-[0_12px_30px_rgba(10,18,35,0.08)] transition-all duration-200 hover:-translate-y-0.5 hover:shadow-[0_16px_38px_rgba(10,18,35,0.12)];
}

.kpi-card::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(120deg, transparent 0%, rgb(var(--primary) / 0.06) 100%);
}

.timeline-card {
  @apply rounded-xl border border-border/70 bg-card/75 px-3 py-2.5 transition-colors duration-150 hover:bg-card;
}

.filter-surface {
  @apply rounded-2xl border border-border/70 bg-gradient-to-r from-background/80 via-card/60 to-background/75 p-3;
}

.table-surface {
  @apply overflow-x-auto rounded-2xl border border-border/70 bg-card/60 shadow-[inset_0_1px_0_rgba(255,255,255,0.12)];
}

input[type='date'],
input[type='datetime-local'] {
  color-scheme: light;
}

input[type='date']::-webkit-calendar-picker-indicator,
input[type='datetime-local']::-webkit-calendar-picker-indicator {
  opacity: 0.9;
}

.dark input[type='date'],
.dark input[type='datetime-local'] {
  color-scheme: dark;
}

.dark input[type='date']::-webkit-calendar-picker-indicator,
.dark input[type='datetime-local']::-webkit-calendar-picker-indicator {
  filter: invert(1) brightness(1.2);
  opacity: 0.95;
}

.fade-in {
  animation: fadeIn 220ms ease-out both;
}

.stagger-in {
  animation: liftIn 320ms ease-out both;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes liftIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (max-width: 900px) {
  .app-shell {
    grid-template-columns: 1fr;
  }

  .sidebar {
    @apply static h-auto border-r-0 border-b px-4 py-4;
  }

  .sidebar nav {
    @apply grid grid-cols-2 gap-2;
  }

  .main {
    @apply px-4 py-4;
  }

  .topbar {
    @apply flex-col items-start;
  }

  .topbar-actions {
    @apply w-full flex-wrap;
  }

  .topbar-segment {
    @apply w-full justify-between;
  }
}
